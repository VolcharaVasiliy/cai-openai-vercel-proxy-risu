# Option A (single model alias override)
# If unset, proxy uses built-in placeholder:
# -EPBbF-2JeZep6sjrXfQ0aB_UdIZl4tSBwOwnNUB_F4
# CAI_CHARACTER_ID=PUT_CHARACTER_ID_HERE
CAI_MODEL_ALIAS=cai-default

# Option B (multiple model aliases, JSON object)
# CAI_MODEL_MAP_JSON={"cai-default":"CHAR_ID_1","cai-creative":"CHAR_ID_2"}

# Optional placeholder override (used only when model alias is unmapped)
# CAI_PLACEHOLDER_CHARACTER_ID=-EPBbF-2JeZep6sjrXfQ0aB_UdIZl4tSBwOwnNUB_F4

# By default, token must come from client Authorization header (recommended for Risu).
# Optional: allow server fallback token (disabled by default).
# CAI_ALLOW_SERVER_TOKEN=true
# CAI_TOKEN=PUT_CAI_TOKEN_HERE

# Optional leak guard extra terms (comma-separated)
# CAI_LEAK_GUARD_TERMS=some_name,some_alias

# Optional per-message memory limit (0 = unlimited, default)
# CAI_MEMORY_MAX_CHARS=0

# Optional assistant output clamp (0 = unlimited, default)
# CAI_MAX_ASSISTANT_CHARS=0

# Optional: include OpenAI `user` field in session key (default false)
# CAI_SESSION_USE_BODY_USER=false

# Optional fallback for legacy clients that send no context and no session id.
# Default false (prevents sticky cross-chat reuse by token+model alias).
# CAI_SESSION_ALIAS_FALLBACK=false

# Optional: trust incoming client history as source of truth (default true)
# Set false to prefer faster user-only continuation mode.
# CAI_AUTHORITATIVE_HISTORY=true

# Optional: allow multiple choices when client sends `n > 1`.
# Default is false for better Risu compatibility (single choice response).
# CAI_ALLOW_MULTI_CHOICE=false

# Optional sync strategy for upstream c.ai sync:
# - prompt (default): send full transcript as one message on full-sync
# - replay: rebuild full-sync by replaying user turns as separate c.ai messages
# CAI_SYNC_MODE=prompt

# Optional replay behavior (used only when CAI_SYNC_MODE=replay)
# Include system text in the first replayed user turn (default true)
# CAI_REPLAY_INCLUDE_SYSTEM=true
# Replay depth limit by user turns (0 = unlimited, default)
# CAI_REPLAY_MAX_USER_TURNS=0
# Force authoritative full-sync even in replay mode (default false).
# Keep false to avoid regenerating old assistant turns on every new message.
# CAI_REPLAY_AUTHORITATIVE_HISTORY=false
# On cold starts in replay mode, assume continuation if incoming history already has assistant turns (default true).
# Disable only if you prefer strict replay bootstrap on every cold start.
# CAI_REPLAY_ASSUME_CONTINUATION=true

# Optional debug response headers for sync diagnostics
# CAI_DEBUG_SYNC_HEADERS=false

# Optional c.ai request timeout (ms)
# CAI_REQUEST_TIMEOUT_MS=60000

# Optional c.ai login/connect timeout (ms)
# CAI_CONNECT_TIMEOUT_MS=45000
